<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Tom Wu,tom76kimo@gmail.com"><title>Atomic CSS 介紹 · 湯姆餡's Blog</title><meta name="description" content="簡介這篇文章想介紹一下 Atomic CSS，這是 Yahoo 開發的一個開源工具，讓使用者用一個比較不同的觀點來撰寫 CSS。
Atomic CSS 主要是想要解決目前在大型的 (large scale) 專案下，CSS 會有的問題：

CSS class 命名使用的衝突問題
stylesheet"><meta name="keywords" content="atomic,css"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/blog/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/blog/css/style.css"><link rel="stylesheet" href="/blog/css/blog_basic.css"><link rel="stylesheet" href="/blog/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46674413-7",'auto');ga('send','pageview');</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/blog/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">湯姆餡's Blog</a></h3><div class="description"><p>程式、信仰、人生</p></div></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://twitter.com/tom76kimo"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="http://instagram.com/tom76kimo"><i class="fa fa-instagram"></i></a></li><li><a href="/blog/atom.xml"><i class="fa fa-rss"></i></a></li><li><a target="_blank" rel="noopener" href="http://github.com/tom76kimo"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a target="_blank" rel="noopener" href="https://www.caicai.me"> CaiCai</a><span>&</span><a target="_blank" rel="noopener" href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/blog/">首頁</a></li><li><a href="/blog/archives">歸檔</a></li><li><a href="/blog/links">友站連結</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"></a></li></div><div class="avatar"><img src="https://www.gravatar.com/avatar/46d51fec35d177693b418e4466dea33a?s=180"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Atomic CSS 介紹</a></h3></div><div class="post-content"><h3 id="簡介"><a href="#簡介" class="headerlink" title="簡介"></a>簡介</h3><p>這篇文章想介紹一下 <a href="http://acss.io/" target="_blank" rel="noopener">Atomic CSS</a>，這是 Yahoo 開發的一個開源工具，讓使用者用一個比較不同的觀點來撰寫 CSS。</p>
<p>Atomic CSS 主要是想要解決目前在大型的 (large scale) 專案下，CSS 會有的問題：</p>
<ol>
<li>CSS class 命名使用的衝突問題</li>
<li>stylesheet 過於肥大的問題</li>
</ol>
<p>因為 CSS styles 作用在全域，所以 CSS 們有可能會彼此打架。尤其是一個大型 web app，你有可能會將它拆成許多的 modules，不同的 modules 會交給不同的 team 負責，你可能無法保證 class 的命名、使用不會有衝突。你可能會說，簡單啊，幫 class 加上 namespace 就可以了：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#module1</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#module2</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但 CSS 的階層愈多，效能就愈不好。</p>
<p>另一個問題，不同的團隊開發的時候，可能會寫了不同的 class，但卻擁有一樣的效果 (style)，比如說：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#module1</span> <span class="selector-class">.highlight-text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#module2</span> <span class="selector-class">.white-text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果我們可以避免這樣的情況發生，一樣的 style，確保它在整個大型 app 中只會被定義一次，這樣，我們可以有效的重複使用 style。尤其是在大型的專案當中，可以大幅減少 stylesheet 的 size。</p>
<p>Atomic CSS 使用了一些方法來解決以上的問題。</p>
<h3 id="來撇一眼"><a href="#來撇一眼" class="headerlink" title="來撇一眼"></a>來撇一眼</h3><p>Atomic CSS 到底會長什麼樣子呢？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"D(ib) W(300px)"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>根據你的 HTML file，Atomic CSS tool 會自動幫你產生下面的 CSS file</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.D</span>\(<span class="selector-tag">ib</span>\) &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.W</span>\(300<span class="selector-tag">px</span>\) &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>看出什麼端倪了嗎？ <code>D(ib)</code> 對應到 <code>display: inline-block</code>，<code>W(300px)</code> 對應到 <code>width: 300px;</code>，所以 div 就擁有了 <code>inline-block</code> 跟 <code>width: 300px</code> 兩個 style，這跟直接寫 style 進去 HTML </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display:inline-block; width:300px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>，有 90% 像。</p>
<p>你會說，什麼 90% 像，那就是寫 style 啊，反而還多此一舉，先寫成 class，再把它放進 HTML element，何必呢？</p>
<p>一開始看的確會覺得很怪，但仔細想想，這樣寫有幾個好處：</p>
<h3 id="1-將-CSS-style-最小元件化，並將元件的重複使用-re-use-最大化。"><a href="#1-將-CSS-style-最小元件化，並將元件的重複使用-re-use-最大化。" class="headerlink" title="1. 將 CSS style 最小元件化，並將元件的重複使用 (re-use) 最大化。"></a>1. 將 CSS style 最小元件化，並將元件的重複使用 (re-use) 最大化。</h3><p>拿 <code>display: inline-block</code> 來說，Atomic CSS 保證它只會被宣告一次，就是</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.D</span>\(<span class="selector-tag">ib</span>\) &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>不會有另一個 class 被宣告，然後擁有同樣的屬性了，就是 <code>D(ib)</code> 而已。如果整個 app 有多個 element 需要 <code>width:300px</code> 的屬性，也保證就只會有 <code>W(300px)</code> 這個 class 被宣告而已，不會有別的了。由此可以確保你的 stylesheet 的size ，會是最小的。</p>
<p>但這樣一來，HTML 裡面，假設我有兩個 div，需要 <code>display:inline-block</code>的 style，我還是要寫兩次 <code>D(ib)</code> 啊，感覺只是把 stylesheet 的 size 轉嫁到 HTML file 裡面而已。不過字串 D(ib) 比 display:inline-block; 短，甚至可以說是短不少，當你需要寫 D(ib) 愈多次，你就省下愈多空間。在 Atomic CSS 裏，產生出來的 class name，都會比它對應的 style 要短。</p>
<h3 id="2-產生出來的-Stylesheet，非常適合壓縮"><a href="#2-產生出來的-Stylesheet，非常適合壓縮" class="headerlink" title="2. 產生出來的 Stylesheet，非常適合壓縮"></a>2. 產生出來的 Stylesheet，非常適合壓縮</h3><p>Atomic CSS 產生出來的 stylesheet，會盡量照著 gzip 的壓縮方式，將適合壓縮、重複的字元擺在一起，讓 stylesheet 可以變得更小。</p>
<h3 id="3-HTML-element-的-style-非常易懂"><a href="#3-HTML-element-的-style-非常易懂" class="headerlink" title="3. HTML element 的 style 非常易懂"></a>3. HTML element 的 style 非常易懂</h3><p>這一點就見仁見智，Atomic CSS 好處就是你從 HTML file 看到一個 element，你馬上就知道他擁有什麼 style，比如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"D(ib) H(100px) P(10px)"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>你就可以知道它擁有 style: <code>display:inline-block; height: 100px; padding: 10px;</code> （當然前提是你熟悉了 class name 的對照，但這個記很快的）。不過就失去了一般 CSS class 的 semantic 能力。</p>
<h3 id="4-解決了-CSS-class-衝突的問題"><a href="#4-解決了-CSS-class-衝突的問題" class="headerlink" title="4. 解決了 CSS class 衝突的問題"></a>4. 解決了 CSS class 衝突的問題</h3><p>每一個 style 都有對應的 class name，不同 team 使用的 class name 也都會是一樣的，確保整個 app 不管切了再多 module，stylesheet 可以只要有一份就好。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>Atomic CSS 最主要的功能，就是把 stylesheet 變得很小 （畢竟需要的屬性都只會寫一次），尤其撰寫的 app 愈大，省下的容量更是可觀，代價就是你會寫出像是 style 的 class，但是這個代價是優點還是缺點，我想就因人而異了。</p>
<ul>
<li><a href="http://acss.io/" target="_blank" rel="noopener">Atomic CSS Website</a></li>
<li><a href="https://github.com/acss-io/atomizer" target="_blank" rel="noopener">Atomic CSS Github</a></li>
</ul>
<h2 id="Real-World-DEMO"><a href="#Real-World-DEMO" class="headerlink" title="Real World DEMO"></a>Real World DEMO</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Body = React.createClass(&#123;</span><br><span class="line">    render: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">"P(10px) M(20%) Mstart(10px) Bgc(yellow)"</span>&gt;test&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        );</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">module.exports = Body;</span></span><br></pre></td></tr></table></figure>

<p>Atomic CSS tool 產生出來的 CSS file</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.Bgc</span>\(<span class="selector-tag">yellow</span>\) &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.M</span>\(20\%\) &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Mstart</span>\(10<span class="selector-tag">px</span>\) &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.T</span>\(0\) &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.P</span>\(10<span class="selector-tag">px</span>\) &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2016-06-17</span><i class="fa fa-comment-o"></i><a href="/blog/2016/06/17/Atomic-CSS-%E4%BB%8B%E7%B4%B9/#comments">評論</a><i class="fa fa-tag"></i><a class="tag" href="/blog/tags/CSS/" title="CSS">CSS </a><a class="tag" href="/blog/tags/programming/" title="programming">programming </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://tom76kimo.github.io/blog/2016/06/17/Atomic-CSS-介紹/,湯姆餡's Blog,Atomic CSS 介紹,;"></a></div></div><div class="facebook"><iframe src="https://www.facebook.com/plugins/like.php?href=http://tom76kimo.github.io/blog/2016/06/17/Atomic-CSS-介紹/&amp;width=89&amp;layout=button_count&amp;action=like&amp;size=small&amp;show_faces=true&amp;share=true&amp;height=46&amp;appId=1794411820874236" width="120" height="28" style="border:none;overflow:hidden;margin-left:25px;margin-top:20px;" scrolling="no" frameborder="0" allowTransparency="true"></iframe></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/blog/2017/04/29/%E7%82%BA%E9%81%8E%E5%8E%BB%E5%B9%BE%E5%B9%B4%E8%88%87%E7%96%BE%E7%97%85%E7%9A%84%E5%A5%AE%E9%AC%A5%E5%81%9A%E7%B4%80%E9%8C%84/" title="為過去幾年與疾病的奮鬥做紀錄">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/blog/2016/06/16/%E6%94%B9%E9%80%A0-logdown-%E7%89%88%E9%9D%A2/" title="改造 logdown 版面">下一篇</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'tom76kimo';
var disqus_identifier = '2016/06/17/Atomic-CSS-介紹/';
var disqus_title = 'Atomic CSS 介紹';
var disqus_url = 'http://tom76kimo.github.io/blog/2016/06/17/Atomic-CSS-介紹/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script></div></div></div></div><script src="/blog/js/jquery.js"></script><script src="/blog/js/jquery-migrate-1.2.1.min.js"></script><script src="/blog/js/jquery.appear.js"></script></body></html>